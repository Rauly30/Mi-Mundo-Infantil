{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control del Director - Mi Mundo Infantil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/paneles-style.css' %}">
</head>
<body>
    <div class="dashboard d-flex">
        <!-- Sidebar mejorado -->
        <nav class="sidebar">
            <div class="logo">
                <img src="{% static 'img/logo.png' %}" alt="Logo Mi Mundo Infantil">
                <h2 class="h5 mb-0 ms-2">Mi Mundo Infantil</h2>
            </div>
            
            <!-- Barra de búsqueda global -->
            <div class="search-global mb-4">
                <div class="input-group">
                    <input type="text" id="globalSearch" class="form-control" placeholder="Buscar...">
                    <button class="btn btn-outline-light" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>

            <ul class="nav-links list-unstyled">
                <li class="nav-item mb-2 active" data-section="dashboard">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="aulas">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-school me-2"></i> Aulas
                        <span class="badge bg-secondary ms-auto">{{ aulas.count }}</span>
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="estudiantes">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-child me-2"></i> Estudiantes
                        <span class="badge bg-secondary ms-auto">{{ estudiantes.count }}</span>
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="representantes">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-users me-2"></i> Representantes
                        <span class="badge bg-secondary ms-auto">{{ representantes.count }}</span>
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="profesores">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-chalkboard-teacher me-2"></i> Profesores
                        <span class="badge bg-secondary ms-auto">{{ profesores.count }}</span>
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="evaluaciones">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-clipboard-check me-2"></i> Evaluaciones
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="eventos">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-calendar-day me-2"></i> Eventos
                    </a>
                </li>
                <li class="nav-item mb-2" data-section="reportes">
                    <a href="#" class="nav-link text-white d-flex align-items-center">
                        <i class="fas fa-chart-bar me-2"></i> Reportes
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer mt-auto">
                <div class="user-info mb-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-user-circle fs-4 me-2"></i>
                        <div>
                            <small class="text-light">Director</small>
                            <div class="fw-bold">{{ director.nombre }} {{ director.apellido }}</div>
                        </div>
                    </div>
                </div>
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-light btn-sm" data-bs-toggle="modal" data-bs-target="#userSettingsModal">
                        <i class="fas fa-cog me-1"></i> Configuración
                    </button>
                    <a href="{% url 'logout' %}" class="btn btn-danger btn-sm">
                        <i class="fas fa-sign-out-alt me-1"></i> Cerrar Sesión
                    </a>
                </div>
            </div>
        </nav>

        <!-- Contenido principal -->
        <main class="content flex-grow-1">
            <!-- Header con breadcrumb -->
            <header class="content-header">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mb-1">
                                <li class="breadcrumb-item"><a href="#">Inicio</a></li>
                                <li class="breadcrumb-item active" id="currentSection">Dashboard</li>
                            </ol>
                        </nav>
                        <h1 class="h3 mb-0" id="sectionTitle">Dashboard</h1>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline-primary me-2" id="refreshBtn">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                <i class="fas fa-plus me-1"></i> Nuevo
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#registrarAulaModal">
                                    <i class="fas fa-school me-2"></i> Aula
                                </a></li>
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#registrarEstudianteModal">
                                    <i class="fas fa-child me-2"></i> Estudiante
                                </a></li>
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#agregarProfesorModal">
                                    <i class="fas fa-chalkboard-teacher me-2"></i> Profesor
                                </a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Mensajes -->
            {% if messages %}
            <div class="alert-container">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
                    <i class="fas fa-info-circle me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Dashboard -->
            <div id="dashboard" class="content-section">
                <div class="row g-4 mb-4">
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-primary">
                                <i class="fas fa-school"></i>
                            </div>
                            <div class="stats-content">
                                <h3>{{ aulas.count }}</h3>
                                <p>Aulas Activas</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-success">
                                <i class="fas fa-child"></i>
                            </div>
                            <div class="stats-content">
                                <h3>{{ estudiantes.count }}</h3>
                                <p>Estudiantes</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-info">
                                <i class="fas fa-chalkboard-teacher"></i>
                            </div>
                            <div class="stats-content">
                                <h3>{{ profesores.count }}</h3>
                                <p>Profesores</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-md-6">
                        <div class="stats-card">
                            <div class="stats-icon bg-warning">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stats-content">
                                <h3>{{ representantes.count }}</h3>
                                <p>Representantes</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row g-4">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">Actividad Reciente</h5>
                            </div>
                            <div class="card-body">
                                <div class="activity-timeline">
                                    <div class="activity-item">
                                        <div class="activity-icon bg-success">
                                            <i class="fas fa-user-plus"></i>
                                        </div>
                                        <div class="activity-content">
                                            <p class="mb-1">Nuevo estudiante registrado</p>
                                            <small class="text-muted">Hace 2 horas</small>
                                        </div>
                                    </div>
                                    <div class="activity-item">
                                        <div class="activity-icon bg-info">
                                            <i class="fas fa-edit"></i>
                                        </div>
                                        <div class="activity-content">
                                            <p class="mb-1">Evaluación actualizada</p>
                                            <small class="text-muted">Hace 4 horas</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">Próximos Eventos</h5>
                            </div>
                            <div class="card-body">
                                {% for evento in eventos|slice:":3" %}
                                <div class="event-item">
                                    <div class="event-date">
                                        <span class="day">{{ evento.fecha|date:"d" }}</span>
                                        <span class="month">{{ evento.fecha|date:"M" }}</span>
                                    </div>
                                    <div class="event-content">
                                        <h6>{{ evento.nombre }}</h6>
                                        <p class="text-muted small">{{ evento.descripcion|truncatechars:50 }}</p>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Aulas -->
            <div id="aulas" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Aulas</h2>
                            <p class="text-muted">Administra las aulas y sus asignaciones</p>
                        </div>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registrarAulaModal">
                            <i class="fas fa-plus me-2"></i> Nueva Aula
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Nivel</th>
                                        <th>Capacidad</th>
                                        <th>Profesor</th>
                                        <th>Estudiantes</th>
                                        <th class="text-center">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for aula in aulas %}
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="aula-icon me-2">
                                                    <i class="fas fa-school text-primary"></i>
                                                </div>
                                                <div>
                                                    <div class="fw-bold">{{ aula.nombre }}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <span class="badge bg-info">{{ aula.nivel }}</span>
                                        </td>
                                        <td>{{ aula.capacidad }} estudiantes</td>
                                        <td>
                                            {% if aula.profesor %}
                                                {{ aula.profesor.nombre }} {{ aula.profesor.apellido }}
                                            {% else %}
                                                <span class="text-muted">Sin asignar</span>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <span class="badge bg-secondary">{{ aula.estudiantes.count }}</span>
                                        </td>
                                        <td class="text-center">
                                            <div class="btn-group" role="group">
                                                <button type="button" class="btn btn-sm btn-outline-info" 
                                                        onclick="verEstudiantesAula('{{ aula.id }}')"
                                                        title="Ver estudiantes">
                                                    <i class="fas fa-users"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-warning" 
                                                        data-bs-toggle="modal" 
                                                        data-bs-target="#editAulaModal{{ aula.id }}"
                                                        title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-danger" 
                                                        onclick="confirmarEliminacion('aula', '{{ aula.id }}')"
                                                        title="Eliminar">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Estudiantes -->
            <div id="estudiantes" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Estudiantes</h2>
                            <p class="text-muted">Administra la información de los estudiantes</p>
                        </div>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registrarEstudianteModal">
                            <i class="fas fa-plus me-2"></i> Nuevo Estudiante
                        </button>
                    </div>
                </div>

                <!-- Filtros -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label">Buscar estudiante</label>
                                <input type="text" id="searchEstudiante" class="form-control" placeholder="Nombre del estudiante...">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Filtrar por aula</label>
                                <select id="filterAulaEstudiante" class="form-select">
                                    <option value="">Todas las aulas</option>
                                    {% for aula in aulas %}
                                    <option value="{{ aula.id }}">{{ aula.nombre }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Ordenar por</label>
                                <select id="sortEstudiantes" class="form-select">
                                    <option value="nombre">Nombre A-Z</option>
                                    <option value="apellido">Apellido A-Z</option>
                                    <option value="edad">Edad</option>
                                    <option value="aula">Aula</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">&nbsp;</label>
                                <div class="d-grid">
                                    <button class="btn btn-outline-primary" onclick="aplicarFiltrosEstudiantes()">
                                        <i class="fas fa-filter"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid de estudiantes -->
                <div class="row" id="estudiantesGrid">
                    {% for estudiante in estudiantes %}
                    <div class="col-lg-6 col-xl-4 mb-4 estudiante-card" 
                         data-nombre="{{ estudiante.nombre|lower }} {{ estudiante.apellido|lower }}"
                         data-aula="{{ estudiante.aula.id }}"
                         data-edad="{{ estudiante.edad }}">
                        <div class="card h-100 student-profile-card">
                            <div class="card-header bg-light">
                                <div class="d-flex align-items-center">
                                    <div class="student-avatar me-3">
                                        <i class="fas fa-user-graduate"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h6 class="mb-0">{{ estudiante.nombre }} {{ estudiante.apellido }}</h6>
                                        <small class="text-muted">{{ estudiante.edad }} años - {{ estudiante.aula.nombre }}</small>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="dropdown">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" data-bs-toggle="modal" 
                                                   data-bs-target="#verEstudianteModal{{ estudiante.id }}">
                                                <i class="fas fa-eye me-2"></i> Ver perfil
                                            </a></li>
                                            <li><a class="dropdown-item" href="#" data-bs-toggle="modal" 
                                                   data-bs-target="#editEstudianteModal{{ estudiante.id }}">
                                                <i class="fas fa-edit me-2"></i> Editar
                                            </a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item text-danger" href="#" 
                                                   onclick="confirmarEliminacion('estudiante', '{{ estudiante.id }}')">
                                                <i class="fas fa-trash me-2"></i> Eliminar
                                            </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="student-info">
                                    <div class="info-item">
                                        <i class="fas fa-birthday-cake text-muted me-2"></i>
                                        <span>{{ estudiante.fecha_nacimiento|date:"d/m/Y" }}</span>
                                    </div>
                                    <div class="info-item">
                                        <i class="fas fa-layer-group text-muted me-2"></i>
                                        <span>{{ estudiante.nivel }}</span>
                                    </div>
                                    <div class="info-item">
                                        <i class="fas fa-user-friends text-muted me-2"></i>
                                        <span>{{ estudiante.representante.nombre }} {{ estudiante.representante.apellido }}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-transparent">
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-outline-primary flex-fill" 
                                            data-bs-toggle="modal" 
                                            data-bs-target="#verEstudianteModal{{ estudiante.id }}">
                                        <i class="fas fa-eye me-1"></i> Ver
                                    </button>
                                    <button class="btn btn-sm btn-outline-warning flex-fill" 
                                            data-bs-toggle="modal" 
                                            data-bs-target="#editEstudianteModal{{ estudiante.id }}">
                                        <i class="fas fa-edit me-1"></i> Editar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Sección de Representantes -->
            <div id="representantes" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Representantes</h2>
                            <p class="text-muted">Administra la información de los representantes</p>
                        </div>
                    </div>
                </div>

                <!-- Filtros de representantes -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label">Buscar representante</label>
                                <input type="text" id="searchRepresentante" class="form-control" placeholder="Nombre, cédula o email...">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Número de estudiantes</label>
                                <select id="filterEstudiantes" class="form-select">
                                    <option value="">Todos</option>
                                    <option value="1">1 estudiante</option>
                                    <option value="2">2 estudiantes</option>
                                    <option value="3+">3 o más estudiantes</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Filtrar por aula</label>
                                <select id="filterAula" class="form-select">
                                    <option value="">Todas las aulas</option>
                                    {% for aula in aulas %}
                                    <option value="{{ aula.id }}">{{ aula.nombre }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">&nbsp;</label>
                                <div class="d-grid">
                                    <button class="btn btn-outline-primary" id="applyFilters">
                                        <i class="fas fa-filter"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid de representantes -->
                <div class="row" id="representantesGrid">
                    {% for representante in representantes %}
                    <div class="col-lg-6 col-xl-4 mb-4 representante-card" 
                         data-nombre="{{ representante.nombre|lower }} {{ representante.apellido|lower }}"
                         data-cedula="{{ representante.cedula }}"
                         data-email="{{ representante.email|lower }}"
                         data-estudiantes="{{ representante.estudiantes.count }}">
                        <div class="card h-100 representante-item">
                            <div class="card-header">
                                <div class="d-flex align-items-center">
                                    <div class="avatar-circle me-3">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <h6 class="mb-0">{{ representante.nombre }} {{ representante.apellido }}</h6>
                                        <small class="text-muted">{{ representante.cedula }}</small>
                                    </div>
                                    <div class="dropdown">
                                        <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="dropdown">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" 
                                                   onclick="contactarRepresentante('{{ representante.email }}', '{{ representante.telefono }}')">
                                                <i class="fas fa-phone me-2"></i> Contactar
                                            </a></li>
                                            <li><a class="dropdown-item" href="#" data-bs-toggle="modal" 
                                                   data-bs-target="#editRepresentanteModal{{ representante.id }}">
                                                <i class="fas fa-edit me-2"></i> Editar
                                            </a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item text-danger" href="#" 
                                                   onclick="confirmarEliminacion('representante', '{{ representante.id }}')">
                                                <i class="fas fa-trash me-2"></i> Eliminar
                                            </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="contact-info mb-3">
                                    <div class="d-flex align-items-center mb-2">
                                        <i class="fas fa-envelope text-muted me-2"></i>
                                        <span class="small">{{ representante.email }}</span>
                                    </div>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-phone text-muted me-2"></i>
                                        <span class="small">{{ representante.telefono }}</span>
                                    </div>
                                </div>
                                
                                <div class="estudiantes-info">
                                    <h6 class="text-primary mb-2">
                                        <i class="fas fa-users me-1"></i>
                                        Estudiantes ({{ representante.estudiantes.count }})
                                    </h6>
                                    {% for estudiante in representante.estudiantes.all %}
                                    <div class="estudiante-tag">
                                        <span class="small">{{ estudiante.nombre }} {{ estudiante.apellido }}</span>
                                        <span class="badge bg-light text-dark">{{ estudiante.aula.nombre }}</span>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="card-footer bg-transparent">
                                <div class="d-flex gap-2">
                                    <button class="btn btn-sm btn-outline-primary flex-fill" 
                                            onclick="contactarRepresentante('{{ representante.email }}', '{{ representante.telefono }}')">
                                        <i class="fas fa-phone me-1"></i> Contactar
                                    </button>
                                    <button class="btn btn-sm btn-outline-warning flex-fill" 
                                            data-bs-toggle="modal" 
                                            data-bs-target="#editRepresentanteModal{{ representante.id }}">
                                        <i class="fas fa-edit me-1"></i> Editar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Sección de Profesores -->
            <div id="profesores" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Profesores</h2>
                            <p class="text-muted">Administra el personal docente</p>
                        </div>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarProfesorModal">
                            <i class="fas fa-plus me-2"></i> Nuevo Profesor
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Profesor</th>
                                        <th>Especialidad</th>
                                        <th>Email</th>
                                        <th>Aula Asignada</th>
                                        <th>Estado</th>
                                        <th class="text-center">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for profesor in profesores %}
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div class="teacher-avatar me-2">
                                                    <i class="fas fa-chalkboard-teacher text-info"></i>
                                                </div>
                                                <div>
                                                    <div class="fw-bold">{{ profesor.nombre }} {{ profesor.apellido }}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{ profesor.especialidad }}</td>
                                        <td>{{ profesor.email }}</td>
                                        <td>
                                            {% if profesor.aula_set.first %}
                                                {{ profesor.aula_set.first.nombre }}
                                            {% else %}
                                                <span class="text-muted">Sin asignar</span>
                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if profesor.bloqueado %}
                                            <span class="badge bg-danger">Bloqueado</span>
                                            {% else %}
                                            <span class="badge bg-success">Activo</span>
                                            {% endif %}
                                        </td>
                                        <td class="text-center">
                                            <div class="btn-group" role="group">
                                                <button type="button" class="btn btn-sm btn-outline-warning" 
                                                        data-bs-toggle="modal" 
                                                        data-bs-target="#editarProfesorModal{{ profesor.id }}"
                                                        title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                {% if profesor.bloqueado %}
                                                <button type="button" class="btn btn-sm btn-outline-success" 
                                                        onclick="cambiarEstadoProfesor('{{ profesor.id }}', 'desbloquear')"
                                                        title="Desbloquear">
                                                    <i class="fas fa-unlock"></i>
                                                </button>
                                                {% else %}
                                                <button type="button" class="btn btn-sm btn-outline-secondary" 
                                                        onclick="cambiarEstadoProfesor('{{ profesor.id }}', 'bloquear')"
                                                        title="Bloquear">
                                                    <i class="fas fa-lock"></i>
                                                </button>
                                                {% endif %}
                                                <button type="button" class="btn btn-sm btn-outline-danger" 
                                                        onclick="confirmarEliminacion('profesor', '{{ profesor.id }}')"
                                                        title="Eliminar">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Evaluaciones -->
            <div id="evaluaciones" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Evaluaciones</h2>
                            <p class="text-muted">Administra los planes de evaluación</p>
                        </div>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarEvaluacionModal">
                            <i class="fas fa-plus me-2"></i> Nueva Evaluación
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Aula</th>
                                        <th>Plan de Evaluación</th>
                                        <th>Fecha Creación</th>
                                        <th class="text-center">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for evaluacion in evaluaciones %}
                                    <tr>
                                        <td>
                                            <span class="badge bg-info">{{ evaluacion.aula.nombre }}</span>
                                        </td>
                                        <td>{{ evaluacion.plan|truncatechars:50 }}</td>
                                        <td>{{ evaluacion.fecha_creacion|date:"d/m/Y" }}</td>
                                        <td class="text-center">
                                            <div class="btn-group" role="group">
                                                <button type="button" class="btn btn-sm btn-outline-primary" 
                                                        data-bs-toggle="modal" 
                                                        data-bs-target="#verEvaluacionModal{{ evaluacion.id }}"
                                                        title="Ver detalles">
                                                    <i class="fas fa-eye"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-warning" 
                                                        data-bs-toggle="modal" 
                                                        data-bs-target="#editarEvaluacionModal{{ evaluacion.id }}"
                                                        title="Editar">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-outline-danger" 
                                                        onclick="confirmarEliminacion('evaluacion', '{{ evaluacion.id }}')"
                                                        title="Eliminar">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Eventos -->
            <div id="eventos" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Gestión de Eventos</h2>
                            <p class="text-muted">Administra los eventos del centro educativo</p>
                        </div>
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarEventoModal">
                            <i class="fas fa-plus me-2"></i> Nuevo Evento
                        </button>
                    </div>
                </div>

                <div class="row">
                    {% for evento in eventos %}
                    <div class="col-lg-6 col-xl-4 mb-4">
                        <div class="card h-100 event-card">
                            <div class="card-header bg-primary text-white">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h6 class="mb-0">{{ evento.nombre }}</h6>
                                    <div class="dropdown">
                                        <button class="btn btn-sm btn-outline-light" data-bs-toggle="dropdown">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" data-bs-toggle="modal" 
                                                   data-bs-target="#editarEventoModal{{ evento.id }}">
                                                <i class="fas fa-edit me-2"></i> Editar
                                            </a></li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li><a class="dropdown-item text-danger" href="#" 
                                                   onclick="confirmarEliminacion('evento', '{{ evento.id }}')">
                                                <i class="fas fa-trash me-2"></i> Eliminar
                                            </a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="event-date-info mb-3">
                                    <i class="fas fa-calendar-alt text-primary me-2"></i>
                                    <span class="fw-bold">{{ evento.fecha|date:"d/m/Y" }}</span>
                                </div>
                                <p class="card-text">{{ evento.descripcion }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Sección de Reportes -->
            <div id="reportes" class="content-section" style="display: none;">
                <div class="section-header mb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2>Reportes y Estadísticas</h2>
                            <p class="text-muted">Análisis y reportes del centro educativo</p>
                        </div>
                    </div>
                </div>

                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">Distribución por Aulas</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="aulasChart" width="400" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">Estadísticas Generales</h5>
                            </div>
                            <div class="card-body">
                                <div class="row text-center">
                                    <div class="col-6 mb-3">
                                        <div class="stat-item">
                                            <h3 class="text-primary">{{ aulas.count }}</h3>
                                            <p class="mb-0">Aulas Activas</p>
                                        </div>
                                    </div>
                                    <div class="col-6 mb-3">
                                        <div class="stat-item">
                                            <h3 class="text-success">{{ estudiantes.count }}</h3>
                                            <p class="mb-0">Estudiantes</p>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="stat-item">
                                            <h3 class="text-info">{{ profesores.count }}</h3>
                                            <p class="mb-0">Profesores</p>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="stat-item">
                                            <h3 class="text-warning">{{ representantes.count }}</h3>
                                            <p class="mb-0">Representantes</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- MODALES -->
    
    <!-- Modal para Registrar Nueva Aula -->
    <div class="modal fade" id="registrarAulaModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-school me-2"></i>
                        Registrar Nueva Aula
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <input type="hidden" name="action" value="registrar_aula">
                        
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre del Aula *</label>
                            <input type="text" id="nombre" name="nombre" class="form-control" 
                                   placeholder="Ej: Aula Preescolar A" required>
                            <div class="invalid-feedback">Por favor ingrese el nombre del aula.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="nivel" class="form-label">Nivel *</label>
                            <select id="nivel" name="nivel" class="form-select" required>
                                <option value="">Seleccionar nivel...</option>
                                <option value="Maternal">Maternal</option>
                                <option value="Preescolar">Preescolar</option>
                                <option value="Primaria">Primaria</option>
                            </select>
                            <div class="invalid-feedback">Por favor seleccione un nivel.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="capacidad" class="form-label">Capacidad *</label>
                            <input type="number" id="capacidad" name="capacidad" class="form-control" 
                                   min="1" max="50" placeholder="Número máximo de estudiantes" required>
                            <div class="invalid-feedback">Por favor ingrese la capacidad del aula.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="profesor" class="form-label">Profesor Asignado</label>
                            <select id="profesor" name="profesor" class="form-select">
                                <option value="">Sin asignar</option>
                                {% for profesor in profesores %}
                                <option value="{{ profesor.id }}">{{ profesor.nombre }} {{ profesor.apellido }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i> Registrar Aula
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Registrar Nuevo Estudiante -->
    <div class="modal fade" id="registrarEstudianteModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-child me-2"></i>
                        Registrar Nuevo Estudiante
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <input type="hidden" name="action" value="registrar_estudiante">
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-primary mb-3">Datos del Estudiante</h6>
                                
                                <div class="mb-3">
                                    <label for="nombreEst" class="form-label">Nombre *</label>
                                    <input type="text" id="nombreEst" name="nombre" class="form-control" required>
                                    <div class="invalid-feedback">Por favor ingrese el nombre.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="apellidoEst" class="form-label">Apellido *</label>
                                    <input type="text" id="apellidoEst" name="apellido" class="form-control" required>
                                    <div class="invalid-feedback">Por favor ingrese el apellido.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="fechaNac" class="form-label">Fecha de Nacimiento *</label>
                                    <input type="date" id="fechaNac" name="fecha_nacimiento" class="form-control" required>
                                    <div class="invalid-feedback">Por favor seleccione la fecha de nacimiento.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="nivelEst" class="form-label">Nivel *</label>
                                    <select id="nivelEst" name="nivel" class="form-select" required>
                                        <option value="">Seleccionar nivel...</option>
                                        <option value="Maternal">Maternal</option>
                                        <option value="Preescolar">Preescolar</option>
                                        <option value="Primaria">Primaria</option>
                                    </select>
                                    <div class="invalid-feedback">Por favor seleccione un nivel.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="aulaEst" class="form-label">Aula *</label>
                                    <select id="aulaEst" name="aula" class="form-select" required>
                                        <option value="">Seleccionar aula...</option>
                                        {% for aula in aulas %}
                                        <option value="{{ aula.id }}">{{ aula.nombre }} - {{ aula.nivel }}</option>
                                        {% endfor %}
                                    </select>
                                    <div class="invalid-feedback">Por favor seleccione un aula.</div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <h6 class="text-info mb-3">Datos del Representante</h6>
                                
                                <div class="mb-3">
                                    <label for="cedulaRep" class="form-label">Cédula *</label>
                                    <input type="text" id="cedulaRep" name="cedula_representante" class="form-control" 
                                           pattern="[0-9]{7,8}" placeholder="Ej: 12345678" required>
                                    <div class="invalid-feedback">Por favor ingrese una cédula válida.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="nombreRep" class="form-label">Nombre *</label>
                                    <input type="text" id="nombreRep" name="nombre_representante" class="form-control" required>
                                    <div class="invalid-feedback">Por favor ingrese el nombre del representante.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="apellidoRep" class="form-label">Apellido *</label>
                                    <input type="text" id="apellidoRep" name="apellido_representante" class="form-control" required>
                                    <div class="invalid-feedback">Por favor ingrese el apellido del representante.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="telefonoRep" class="form-label">Teléfono *</label>
                                    <input type="tel" id="telefonoRep" name="telefono_representante" class="form-control" 
                                           pattern="[0-9]{10,11}" placeholder="Ej: 04121234567" required>
                                    <div class="invalid-feedback">Por favor ingrese un teléfono válido.</div>
                                </div>
                                
                                <div class="mb-3">
                                    <label for="emailRep" class="form-label">Email *</label>
                                    <input type="email" id="emailRep" name="email_representante" class="form-control" 
                                           placeholder="ejemplo@correo.com" required>
                                    <div class="invalid-feedback">Por favor ingrese un email válido.</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-success">
                                <i class="fas fa-save me-1"></i> Registrar Estudiante
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Profesor -->
    <div class="modal fade" id="agregarProfesorModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-chalkboard-teacher me-2"></i>
                        Agregar Nuevo Profesor
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <input type="hidden" name="action" value="agregar_profesor">
                        
                        <div class="mb-3">
                            <label for="nombreProf" class="form-label">Nombre *</label>
                            <input type="text" id="nombreProf" name="nombre" class="form-control" required>
                            <div class="invalid-feedback">Por favor ingrese el nombre.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="apellidoProf" class="form-label">Apellido *</label>
                            <input type="text" id="apellidoProf" name="apellido" class="form-control" required>
                            <div class="invalid-feedback">Por favor ingrese el apellido.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="especialidadProf" class="form-label">Especialidad *</label>
                            <input type="text" id="especialidadProf" name="especialidad" class="form-control" 
                                   placeholder="Ej: Educación Preescolar" required>
                            <div class="invalid-feedback">Por favor ingrese la especialidad.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="emailProf" class="form-label">Email *</label>
                            <input type="email" id="emailProf" name="email" class="form-control" 
                                   placeholder="profesor@ejemplo.com" required>
                            <div class="invalid-feedback">Por favor ingrese un email válido.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="passwordProf" class="form-label">Contraseña *</label>
                            <input type="password" id="passwordProf" name="password" class="form-control" 
                                   minlength="6" required>
                            <div class="invalid-feedback">La contraseña debe tener al menos 6 caracteres.</div>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-info">
                                <i class="fas fa-save me-1"></i> Agregar Profesor
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Evaluación -->
    <div class="modal fade" id="agregarEvaluacionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-warning text-dark">
                    <h5 class="modal-title">
                        <i class="fas fa-clipboard-check me-2"></i>
                        Agregar Nueva Evaluación
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <input type="hidden" name="action" value="agregar_evaluacion">
                        
                        <div class="mb-3">
                            <label for="aulaEval" class="form-label">Aula *</label>
                            <select id="aulaEval" name="aula" class="form-select" required>
                                <option value="">Seleccionar aula...</option>
                                {% for aula in aulas %}
                                <option value="{{ aula.id }}">{{ aula.nombre }} - {{ aula.nivel }}</option>
                                {% endfor %}
                            </select>
                            <div class="invalid-feedback">Por favor seleccione un aula.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="planEval" class="form-label">Plan de Evaluación *</label>
                            <textarea id="planEval" name="plan" class="form-control" rows="4" 
                                      placeholder="Describa el plan de evaluación..." required></textarea>
                            <div class="invalid-feedback">Por favor ingrese el plan de evaluación.</div>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-warning">
                                <i class="fas fa-save me-1"></i> Agregar Evaluación
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Agregar Evento -->
    <div class="modal fade" id="agregarEventoModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-calendar-plus me-2"></i>
                        Agregar Nuevo Evento
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}" class="needs-validation" novalidate>
                        {% csrf_token %}
                        <input type="hidden" name="action" value="agregar_evento">
                        
                        <div class="mb-3">
                            <label for="fechaEvento" class="form-label">Fecha del Evento *</label>
                            <input type="date" id="fechaEvento" name="fecha" class="form-control" required>
                            <div class="invalid-feedback">Por favor seleccione la fecha del evento.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="nombreEvento" class="form-label">Nombre del Evento *</label>
                            <input type="text" id="nombreEvento" name="nombre" class="form-control" 
                                   placeholder="Ej: Día del Niño" required>
                            <div class="invalid-feedback">Por favor ingrese el nombre del evento.</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="descripcionEvento" class="form-label">Descripción *</label>
                            <textarea id="descripcionEvento" name="descripcion" class="form-control" rows="3" 
                                      placeholder="Describa el evento..." required></textarea>
                            <div class="invalid-feedback">Por favor ingrese la descripción del evento.</div>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="fas fa-times me-1"></i> Cancelar
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i> Agregar Evento
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Ver Estudiantes de Aula -->
    <div class="modal fade" id="estudiantesAulaModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-info text-white">
                    <h5 class="modal-title">
                        <i class="fas fa-users me-2"></i>
                        Estudiantes del Aula
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="estudiantesAulaContent">
                        <!-- Contenido dinámico -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Configuración de Usuario -->
    <div class="modal fade" id="userSettingsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="fas fa-cog me-2"></i>
                        Configuración de Usuario
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form method="post" action="{% url 'panel_director' %}">
                        {% csrf_token %}
                        <input type="hidden" name="action" value="actualizar_perfil">
                        
                        <div class="mb-3">
                            <label for="nombreDirector" class="form-label">Nombre</label>
                            <input type="text" id="nombreDirector" name="nombre" class="form-control" 
                                   value="{{ director.nombre }}" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="apellidoDirector" class="form-label">Apellido</label>
                            <input type="text" id="apellidoDirector" name="apellido" class="form-control" 
                                   value="{{ director.apellido }}" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="emailDirector" class="form-label">Email</label>
                            <input type="email" id="emailDirector" name="email" class="form-control" 
                                   value="{{ director.email }}" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="passwordDirector" class="form-label">Nueva Contraseña (opcional)</label>
                            <input type="password" id="passwordDirector" name="password" class="form-control">
                            <small class="form-text text-muted">Deje en blanco si no desea cambiar la contraseña</small>
                        </div>
                        
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Chart.js para reportes -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Script personalizado -->
    <script src="{% static 'js/panel-director.js' %}"></script>
</body>
</html>
